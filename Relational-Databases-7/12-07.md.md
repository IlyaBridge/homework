# Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Казначеев Илья`

---

### Задание 1
Опишите основные преимущества использования масштабирования методами:
активный master-сервер и пассивный репликационный slave-сервер;
master-сервер и несколько slave-серверов;
Дайте ответ в свободной форме.


### Решение 1
1. Активный master-сервер и пассивный репликационный slave-сервер

В данной схеме есть один основной сервер (master), который обрабатывает все запросы на запись (INSERT, UPDATE, DELETE), и один или несколько подчиненных серверов (slave), которые реплицируют данные с master-сервера и используются для чтения данных (SELECT).

Преимущества:
- Распределение нагрузки. Запросы на чтение могут быть распределены между slave-серверами. Это снижает нагрузку на master-сервер.
- Отказоустойчивость. Если master-сервер выходит из строя, один из slave-серверов может быть повышен до роли master, это обеспечивает непрерывность работы системы.
- Резервное копирование. Slave-серверы могут использоваться для создания резервных копий данных без нагрузки на master-сервер.
- Географическое распределение. Slave-серверы могут быть расположены в разных регионах, тем самым уменьшая задержку для пользователей в этих регионах.

2. Master-сервер и несколько slave-серверов

В данной схеме также используется один master-сервер для обработки запросов на запись, но несколько slave-серверов для обработки запросов на чтение.

Преимущества:
- Еще большее распределение нагрузки. С увеличением числа slave-серверов нагрузка на чтение распределяется еще более равномерно, что позволяет обслуживать большее количество пользователей.
- Масштабируемость. Добавление новых slave-серверов позволяет легко масштабировать систему по мере роста нагрузки.
- Повышенная отказоустойчивость. Наличие нескольких slave-серверов увеличивает отказоустойчивость системы, так-как в случае выхода из строя одного slave-сервера другие продолжают работать.
- Гибкость в управлении нагрузкой. Можно настроить разные slave-серверы для обработки разных типов запросов или для обслуживания разных групп пользователей.

---

### Задание 2
Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трёх таблиц:
    пользователи,
    книги,
    магазины (столбцы произвольно).
Опишите принципы построения системы и их разграничение или разбивку между базами данных.
Пришлите блоксхему, где и что будет располагаться. Опишите, в каких режимах будут работать сервера.

### Решение 2
Горизонтальный шардинг предполагает разделение данных одной таблицы на несколько серверов. Так, например, данные таблицы "пользователи" могут быть разделены по географическому признаку: пользователи из Европы на одном сервере, из Азии — на другом.

Принципы построения:
1. Данные разделяются по определенному ключу (например, user_id или региону).
2. Каждый сервер отвечает за свою часть данных, что позволяет распределить нагрузку.
3. Добавление новых серверов позволяет увеличить объем данных и количество запросов.

Блок-схема:


Вертикальный шардинг предполагает разделение таблиц между разными серверами. Например, таблица "пользователи" на одном сервере, таблица "книги" — на другом, таблица "магазины" — на третьем.

Принципы построения:
1. Каждая таблица находится на отдельном сервере.
2. Каждый сервер специализируется на обработке данных определенного типа.
3. Распределение таблиц по разным серверам уменьшает нагрузку на каждый отдельный сервер.

Блок-схема:


Режимы работы серверов
Master-Slave: Master-сервер обрабатывает запросы на запись, а slave-серверы — на чтение.
Active-Active: Все серверы могут обрабатывать как запросы на запись, так и на чтение, что увеличивает производительность и отказоустойчивость.

---
